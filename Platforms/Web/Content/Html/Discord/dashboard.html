<link rel="stylesheet" href="/css/site-specific/discord/dashboard.css">
<script src="/js/site-specific/discord/dashboard.js" charset="utf-8"></script>

<main>

  <div class="container-fluid text-center white-text">

    <div class="row">
      <div class="col-2 stylish-color-dark site-panel">
        <h4>|<!--#(guild_name)#-->|</h4>
        <data value="|<!--#(guild_id)#-->|" id="guild_id"></data>
        <hr>
        <div class="location-selector text-left">
          <div onclick="DiscordDashboard.loadHome()" class="location"><i class="fas fa-home"></i>Home</div>
          <div onclick="DiscordDashboard.loadConfig()" class="location"><i class="fas fa-cogs"></i>Configuration</div>
          <div onclick="DiscordDashboard.loadCommand()" class="location"><i class="fas fa-terminal"></i>Commands</div>
          <div onclick="DiscordDashboard.loadLevel()" class="location"><i class="fas fa-list-ol"></i>Levels</div>
          <div onclick="DiscordDashboard.loadQuote()" class="location"><i class="fas fa-quote-right"></i>Quotes</div>
          <div onclick="DiscordDashboard.loadTwitchAlert()" class="location"><i class="fab fa-twitch"></i>Twitch Alerts</div>
        </div>
      </div>
      <div class="col main-panel">

        <div location="home">

          <div class="center-item-col">
            <div class="center-item-row">
              <img class="guild-icon" src="" alt="discord_icon" id="icon" height="128" width="128">
              <span class="guild-name" id="name"></span>
            </div>
          </div>
          <h1 hidden><i>I don't know what to display here...</i></h1>

          <hr>
          <div class="row"><div class="col"><h2>Server Stats</h2></div></div>
          <div class="row">
            <div class="col"><h3><span id="member_count">[N/A]</span> Member</h3></div>
            <div class="col"><h3><span id="role_count">[N/A]</span> Roles</h3></div>
          </div>
          <div class="row">
            <div class="col"><h3><span id="premium_subscription_count">[N/A]</span> Nitro Booster</h3></div>
            <div class="col"><h3><span id="channel_count">[N/A]</span> Channel</h3></div>
          </div>

          <hr>
          <div class="row"><div class="col"><h2>Stats</h2></div></div>
          <div class="row">
            <div class="col"><h3><span id="command_count">[N/A]</span> Commands</h3></div>
            <div class="col"><h3><span id="quote_count">[N/A]</span> Quotes</h3></div>
          </div>
          <div class="row">
            <div class="col"><h3><span id="twitch_alert_count">[N/A]</span> Twitch Alerts</h3></div>
            <div class="col"><h3><span id="level_count">[N/A]</span> Level Entrys</h3></div>
          </div>

        </div>

        <div location="configs">
          show configs
        </div>

        <div location="commands">

          <div class="container">

            <div class="center-item-row">
              <div class="col">
                <h4>Commands: <span id="command_amount">[N/A]</span></h4>
              </div>
              <div class="col">
                <button type="button" class="btn btn-success" onclick="Commands.createModal()">New Command</button>
              </div>
            </div>

            <div class="center-item-row md-form">
              <span>Public command page for this server:</span>
              <div class="col">
                <input type="text" value="https://phaaze.net/discord/commands/|<!--#(guild_id)#-->|" readonly class="white-text text-center" style="width: 100%;">
              </div>
            </div>

            <div class="header row">
              <div class="col-2 trigger">Trigger</div>
              <div class="col function">Function</div>
              <div class="col-2 require">Require</div>
              <div class="col-1 cost">Cost</div>
              <div class="col-1 uses">Uses</div>
            </div>
            <div id="command_list">

            </div>

          </div>

        </div>

        <div location="levels">
          Show levels
        </div>

        <div location="quotes">
          Quotes oder so
        </div>

      </div>
    </div>

  </div>

</main>

<!-- phantoms -->
<div phantom hidden>

  <div class="row command" command-id="0" onclick="Commands.detail(this)">
    <div class="col-2 trigger">[N/A]</div>
    <div class="col function">[N/A]</div>
    <div class="col-2 require">[N/A]</div>
    <div class="col-1 cost">[N/A]</div>
    <div class="col-1 uses">[N/A]</div>
  </div>

</div>

<!-- modals -->
<div class="modal fade" id="command_create">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <div class="modal-header text-center">
        <h4 class="modal-title">New command</h4>
        <button type="button" class="close" onclick="$('#command_create').modal('hide')"><span>&times;</span></button>
      </div>

      <div class="modal-body text-black">

        <div class="center-item-row md-form">
          <div class="col">
            <input type="text" name="trigger" placeholder="A word to trigger the command..." style="width: 100%;" class="text-center" clear-after-success>
          </div>
        </div>
        <hr>
        <div class="center-item-row md-form">
          <span class="col text-left">Can be used by:</span>
          <select name="require" class="browser-default custom-select" clear-after-success>
            <option value="0">Everyone</option>
            <option value="1">Regular</option>
            <option value="2">Moderator</option>
            <option value="3">Server Owner</option>
          </select>
        </div>
        <div class="center-item-row md-form">
          <span class="col text-left">Cost to use this command:</span>
          <input type="number" name="required_currency" value="0" clear-after-success>
        </div>

        <div class="center-item-row md-form">
          <span class="col text-left">Hidden command?</span>
          <div class="col text-center">
            <input type="checkbox" name="hidden" style="height:2ch; width:2ch;" clear-after-success>
          </div>
        </div>

        <div class="center-item-row md-form">
          <span class="col text-left">Cooldown in sec.</span>
          <div class="col text-center">
            <input type="number" name="cooldown" value="10" min="3" max="600" clear-after-success oninput="$('#command_create [name=cooldown_slider]').val(this.value)" style="width:6ch;">
            <input type="range" name="cooldown_slider" value="10" min="3" max="600" step="1" clear-after-success oninput="$('#command_create [name=cooldown]').val(this.value)">
          </div>
        </div>

        <div class="center-item-row md-form">
          <span class="col text-left">What type of command?</span>
          <select name="commandtype" class="browser-default custom-select" onchange="Commands.loadCommands(this)" clear-after-success>
            <option value="">Choose a type...</option>
            <option value="simple">Simple</option>
            <option value="complex">Complex</option>
          </select>
        </div>

        <hr>

        <div command-setting="simple">

          <div class="center-item-row md-form">
            <span class="col text-left">Function:</span>
            <select name="function" class="browser-default custom-select" onchange="Commands.loadCommandInfo(this)" clear-after-success>
              <!-- this div gets filled with all possible commands after "simple" is choosen -->
            </select>
          </div>

          <div extra-command-setting>

            <div class="center-item-row">
              <div class="col"><h4>Description</h4></div>
            </div>
            <div class="center-item-row">
              <div class="col"><p name="description">[N/A]</p></div>
            </div>
            <div class="center-item-row">
              <div class="col"><h4>Details</h4></div>
            </div>
            <div class="center-item-row">
              <div class="col"><p name="details">[N/A]</p></div>
            </div>

            <textarea name="content" rows="5" style="width: 100%" style="display: none" clear-after-success></textarea>

          </div>

        </div>

        <div command-setting="complex">

        </div>

        <hr>

        <button type="button" class="btn btn-block btn-success" onclick="Commands.create()">Submit</button>

      </div>

      <div class="modal-footer"></div>
      <div messagebox></div>

    </div>
  </div>
</div>
