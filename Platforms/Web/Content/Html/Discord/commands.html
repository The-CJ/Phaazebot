<link rel="stylesheet" href="/css/site-specific/discord/commands.css">
<script src="/js/site-specific/discord/commands.js" charset="utf-8"></script>

<main>

	<div class="container text-center white-text">

		<a href="/discord/view/|<!--#(guild_id)#-->|">
			<h1 id="guild_name">|<!--#(guild_name)#-->|</h1>
		</a>
		<data value="|<!--#(guild_id)#-->|" id="guild_id"></data>
		<data value="|<!--#(guild_currency)#-->|" id="guild_currency"></data>
		<data value="|<!--#(guild_currency_multi)#-->|" id="guild_currency_multi"></data>

		<form class="controls content-box pt-2" action="javascript:PublicCommands.prevPage(true)">

			<div class="center-item-row">
				<!-- limit -->
				<div class="col">
					<select class="custom-select" name="limit">
						<option value="5">5 Entrys per page</option>
						<option value="10">10 Entrys per page</option>
						<option value="50" selected>50 Entrys per page</option>
					</select>
				</div>

				<!-- trigger -->
				<div class="col">
					<input type="text" name="trigger" class="form-control" placeholder="Trigger"/>
				</div>
			</div>

			<div class="center-item-row btn-row">
				<!-- pages -->
				<div class="col pages text-left">
					<button onclick="PublicCommands.prevPage(1)" type="button" name="button" class="btn btn-secondary icon-btn prev"><i class="fas fa-step-backward"></i></button>
					<button onclick="PublicCommands.prevPage(0)" type="button" name="button" class="btn btn-secondary icon-btn prev"><i class="fas fa-arrow-left"></i></button>
					<span>Page: <span class="page">0</span></span>
					<button onclick="PublicCommands.nextPage(0)" type="button" name="button" class="btn btn-secondary icon-btn next"><i class="fas fa-arrow-right"></i></button>
					<button onclick="PublicCommands.nextPage(1)" type="button" name="button" class="btn btn-secondary icon-btn next"><i class="fas fa-step-forward"></i></button>

					<span>Total: <span id="command_amount">[N/A]</span></span>
				</div>

				<!-- buttons -->
				<div class="col text-right">
					<button type="submit" class="btn btn-primary icon-btn"><i class="fas fa-search"></i></button>
				</div>
			</div>

		</form>

		<hr>

		<div class="header row">
			<div class="col-2">Trigger</div>
			<div class="col">Function</div>
			<div class="col-2">Require</div>
			<div class="col-1">Cost</div>
			<div class="col-1">Uses</div>
			<div class="col-1">Action</div>
		</div>

		<!-- get filled with copys of: "[phantom] .command" -->
		<div id="command_list"></div>

	</div>

</main>

<div phantom hidden>

	<div class="row command" command-id="0">
		<div class="col-2"><span name="trigger">[N/A]</span></div>
		<div class="col"><span name="name">[N/A]</span></div>
		<div class="col-2"><span name="require">[N/A]</span></div>
		<div class="col-1"><span name="cost">[N/A]</span></div>
		<div class="col-1"><span name="uses">[N/A]</span></div>
		<div class="col-1">
			<button type="button" class="btn btn-info icon-btn small" onclick="PublicCommands.editModal(this)"><i class="fas fa-info"></i></button>
		</div>
	</div>

</div>

<div class="modal fade" id="command_modal">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">

			<div class="modal-header text-center">
				<h4 class="modal-title">Command details</h4>
				<button type="button" class="close" onclick="$(this).closest('.modal').modal('hide')"><span>&times;</span></button>
			</div>

			<div class="modal-body text-black">

				<div class="center-item-row">
					<span class="col text-left">Trigger:</span>
					<span class="col text-right" name="trigger">[N/A]<span>
				</div>
				<hr>
				<div class="center-item-row">
					<span class="col text-left">Can be used by:</span>
					<span class="col text-right" name="require">[N/A]<span>
				</div>
				<div class="center-item-row">
					<span class="col text-left">Used:</span>
					<span class="col text-right" name="uses">[N/A]<span>
				</div>
				<div class="center-item-row">
					<span class="col text-left">Cost to use:</span>
					<span class="col text-right" name="cost">[N/A]<span>
				</div>
				<hr>
				<div class="center-item-row">
					<span class="col text-center" name="name">[N/A]</span>
				</div>
				<hr br>
				<div class="center-item-row">
					<span class="col text-center" name="description">[N/A]<span>
				</div>
			</div>

			<div class="modal-footer"></div>

		</div>
	</div>
</div>
